CODE SEGMENT
ASSUME CS:CODE
ORG 2000H
delay proc near
mov cx,0ffffh
delayloop: nop
loop delayloop
ret
endp


turnOnOrgan proc near
mov dx,0ff29h
mov al,1
out dx,al
ret
endp
outAl proc near
mov dx,41h
out dx,al
ret
endp


START:
mov dx,0ff2bh
mov al,10000000b
out dx,al
mov dx,43h
mov al,01110110b
out dx,al

lp: mov dx,0ff29h
mov al,0
out dx,al
read: mov dx,0ff28h
in al,dx
cmp al,01111111b
je btnOne
cmp al,10111111b
je btnTwo
cmp al,11011111b
je btnThree
cmp al,11101111b
je btnFour
cmp al,11110111b
je btnFive
cmp al,11111011b
je btnSix
cmp al,11111101b
je btnSun
call delay
jmp lp

btnOne: call turnOnOrgan
mov al,0eh
call outAl
mov al,07h
call outAl
jmp read
btnTwo: call turnOnOrgan
mov al,0eh
mov al,07h
call outAl
jmp read
btnThree: call turnOnOrgan
mov al,0bh
call outAl
mov al,07h
call outAl
jmp read
btnFour: call turnOnOrgan
mov al,6ah
call outAl
mov al,66h
call outAl
jmp read
btnFive: call turnOnOrgan
mov al,6eh
call outAl
mov al,05h
call outAl
jmp read
btnSix: call turnOnOrgan
mov al,47h
call outAl
mov al,05h
call outAl
jmp read
btnSun: call turnOnOrgan
mov al,4bh
call outAl
mov al,04h
call outAl
jmp read
END START
CODE ENDS
